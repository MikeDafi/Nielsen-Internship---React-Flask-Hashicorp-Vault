{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\miasknda2101\\\\Documents\\\\React-Flask-Hashicorp-App\\\\my-app\\\\src\\\\HomeScreen.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect, useCallback } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport logo from './Nielsenlogo.jpg';\nimport 'bootstrap/dist/css/bootstrap.css';\nimport './App.css';\nimport CreateAPolicy from './CreateAPolicy';\nimport AssignPolicyToRole from './AssignPolicyToRole';\nimport AppBar from '@material-ui/core/AppBar';\nimport Tabs from '@material-ui/core/Tabs';\nimport { IconContext } from \"react-icons\";\nimport DisconnectPolicyFromRole from './DisconnectPolicyFromRole';\nimport Tab from '@material-ui/core/Tab';\nimport HomeIcon from '@material-ui/icons/Home';\nimport { AiFillDelete, AiOutlineFileAdd, AiOutlineRead } from \"react-icons/ai\";\nimport { BiLink, BiUnlink, BiEdit } from \"react-icons/bi\";\nimport HomeTab from './HomeTab';\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction TabPanel(props) {\n  const {\n    children,\n    value,\n    index,\n    ...other\n  } = props;\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    role: \"tabpanel\",\n    hidden: value !== index,\n    id: `scrollable-force-tabpanel-${index}`,\n    \"aria-labelledby\": `scrollable-force-tab-${index}`,\n    ...other,\n    children: value === index && /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: children\n    }, void 0, false)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 22,\n    columnNumber: 5\n  }, this);\n}\n\n_c = TabPanel;\n\nfunction a11yProps(index) {\n  return {\n    id: `scrollable-force-tab-${index}`,\n    'aria-controls': `scrollable-force-tabpanel-${index}`\n  };\n}\n\nconst useStyles = makeStyles(theme => ({\n  root: {\n    flexGrow: 1,\n    width: '100%',\n    backgroundColor: theme.palette.background.paper\n  }\n}));\n\nfunction HomeScreen(props) {\n  _s();\n\n  props = {\n    token: \"s.50tT3xmIchMdiTDE3nzZ8RsY\"\n  };\n  const [roleToPolicies, setRoleToPolicies] = useState({});\n  const [policytoPolicyInfo, setPTPI] = useState({});\n  const [value, setValue] = React.useState(3);\n  const classes = useStyles();\n\n  const handleChange = (event, newValue) => {\n    setValue(newValue);\n  };\n\n  const fetchData = useCallback(async () => {\n    var roleToPTemp = {};\n    var policiesToPolicyInfo = {};\n    await fetch(`/auth?VAULT_TOKEN=` + props.token + `&auth_method=approle`, {\n      method: \"GET\"\n    }).then(response => response.json()).then(async data => {\n      var roles = data;\n      var i = 0;\n\n      for (i = 0; i < roles.length; ++i) {\n        const temp = i;\n        await fetch(`/auth?VAULT_TOKEN=` + props.token + `&auth_method=approle&role=` + roles[i], {\n          method: \"GET\"\n        }).then(response => response.json()).then(data => {\n          roleToPTemp[roles[temp]] = data;\n        });\n      }\n\n      await setRoleToPolicies(roleToPTemp);\n    });\n    await fetch(`/policies?VAULT_TOKEN=` + props.token, {\n      method: \"GET\"\n    }).then(response => response.json()).then(async data => {\n      var policies = data;\n\n      for (var i = 0; i < policies.length; i++) {\n        const temp = i;\n        await fetch(`/policies?VAULT_TOKEN=` + props.token + `&policyLabel=` + policies[i], {\n          method: \"GET\"\n        }).then(response => response.json()).then(data => {\n          policiesToPolicyInfo[policies[temp]] = data;\n        });\n      }\n\n      await setPTPI(policiesToPolicyInfo);\n    });\n  }, [props.token]);\n  useEffect(() => {\n    fetchData();\n  }, [fetchData]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"App\",\n    style: {\n      textAlign: \"left\",\n      marginLeft: 15,\n      marginBottom: 50\n    },\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: classes.root,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          display: \"flex\",\n          flexDirection: \"row\",\n          justifyContent: \"space-between\"\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            fontSize: 50,\n            fontFamily: \"system-ui\",\n            fontWeight: 30\n          },\n          children: \"Policy Manager\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 107,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n          src: logo,\n          style: {\n            height: 80\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 108,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(AppBar, {\n        position: \"static\",\n        color: \"default\",\n        children: /*#__PURE__*/_jsxDEV(Tabs, {\n          value: value,\n          onChange: handleChange,\n          indicatorColor: \"primary\",\n          textColor: \"primary\",\n          centered: true,\n          \"aria-label\": \"scrollable centerd force tabs example\",\n          children: [/*#__PURE__*/_jsxDEV(Tab, {\n            label: \"Create\",\n            icon: /*#__PURE__*/_jsxDEV(IconContext.Provider, {\n              value: {\n                size: 25\n              },\n              children: /*#__PURE__*/_jsxDEV(AiOutlineFileAdd, {\n                style: {\n                  size: 30\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 120,\n                columnNumber: 1\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 119,\n              columnNumber: 37\n            }, this),\n            ...a11yProps(0)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 119,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(Tab, {\n            label: \"Delete\",\n            icon: /*#__PURE__*/_jsxDEV(IconContext.Provider, {\n              value: {\n                size: 25\n              },\n              children: /*#__PURE__*/_jsxDEV(AiFillDelete, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 121,\n                columnNumber: 79\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 121,\n              columnNumber: 37\n            }, this),\n            ...a11yProps(1)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 121,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(Tab, {\n            label: \"View\",\n            icon: /*#__PURE__*/_jsxDEV(IconContext.Provider, {\n              value: {\n                size: 25\n              },\n              children: /*#__PURE__*/_jsxDEV(AiOutlineRead, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 122,\n                columnNumber: 77\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 122,\n              columnNumber: 35\n            }, this),\n            ...a11yProps(2)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 122,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(Tab, {\n            label: \"Home\",\n            icon: /*#__PURE__*/_jsxDEV(IconContext.Provider, {\n              value: {\n                size: 25\n              },\n              children: /*#__PURE__*/_jsxDEV(HomeIcon, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 123,\n                columnNumber: 77\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 123,\n              columnNumber: 35\n            }, this),\n            ...a11yProps(3)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 123,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(Tab, {\n            label: \"Update\",\n            icon: /*#__PURE__*/_jsxDEV(IconContext.Provider, {\n              value: {\n                size: 25\n              },\n              children: /*#__PURE__*/_jsxDEV(BiEdit, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 124,\n                columnNumber: 79\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 124,\n              columnNumber: 37\n            }, this),\n            ...a11yProps(4)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 124,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(Tab, {\n            label: \"Disconnect\",\n            icon: /*#__PURE__*/_jsxDEV(IconContext.Provider, {\n              value: {\n                size: 25\n              },\n              children: /*#__PURE__*/_jsxDEV(BiUnlink, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 125,\n                columnNumber: 83\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 125,\n              columnNumber: 41\n            }, this),\n            ...a11yProps(5)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 125,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(Tab, {\n            label: \"Connect\",\n            icon: /*#__PURE__*/_jsxDEV(IconContext.Provider, {\n              value: {\n                size: 25\n              },\n              children: /*#__PURE__*/_jsxDEV(BiLink, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 126,\n                columnNumber: 80\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 126,\n              columnNumber: 38\n            }, this),\n            ...a11yProps(6)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 126,\n            columnNumber: 11\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 111,\n          columnNumber: 9\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(TabPanel, {\n        value: value,\n        index: 0,\n        children: /*#__PURE__*/_jsxDEV(CreateAPolicy, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 130,\n          columnNumber: 9\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 129,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(TabPanel, {\n        value: value,\n        index: 1,\n        children: \"Item Two\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 132,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(TabPanel, {\n        value: value,\n        index: 2,\n        children: \"Item Three\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 135,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(TabPanel, {\n        value: value,\n        index: 3,\n        children: /*#__PURE__*/_jsxDEV(HomeTab, {\n          handleChange: handleChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 139,\n          columnNumber: 7\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 138,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(TabPanel, {\n        value: value,\n        index: 4,\n        children: \"Item Five\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 141,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(TabPanel, {\n        value: value,\n        index: 5,\n        children: /*#__PURE__*/_jsxDEV(DisconnectPolicyFromRole, {\n          refreshData: fetchData,\n          token: props.token,\n          roleToPolicies: roleToPolicies,\n          policytoPolicyInfo: policytoPolicyInfo\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 145,\n          columnNumber: 7\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 144,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(TabPanel, {\n        value: value,\n        index: 6,\n        children: /*#__PURE__*/_jsxDEV(AssignPolicyToRole, {\n          refreshData: fetchData,\n          token: props.token,\n          roleToPolicies: roleToPolicies,\n          policytoPolicyInfo: policytoPolicyInfo\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 151,\n          columnNumber: 7\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 150,\n        columnNumber: 7\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 9\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 104,\n    columnNumber: 7\n  }, this);\n}\n\n_s(HomeScreen, \"wdUzbKu8YWrW+1+SCukkbOKyXhk=\", false, function () {\n  return [useStyles];\n});\n\n_c2 = HomeScreen;\nexport default HomeScreen;\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"TabPanel\");\n$RefreshReg$(_c2, \"HomeScreen\");","map":{"version":3,"sources":["C:/Users/miasknda2101/Documents/React-Flask-Hashicorp-App/my-app/src/HomeScreen.js"],"names":["React","useState","useEffect","useCallback","makeStyles","logo","CreateAPolicy","AssignPolicyToRole","AppBar","Tabs","IconContext","DisconnectPolicyFromRole","Tab","HomeIcon","AiFillDelete","AiOutlineFileAdd","AiOutlineRead","BiLink","BiUnlink","BiEdit","HomeTab","TabPanel","props","children","value","index","other","a11yProps","id","useStyles","theme","root","flexGrow","width","backgroundColor","palette","background","paper","HomeScreen","token","roleToPolicies","setRoleToPolicies","policytoPolicyInfo","setPTPI","setValue","classes","handleChange","event","newValue","fetchData","roleToPTemp","policiesToPolicyInfo","fetch","method","then","response","json","data","roles","i","length","temp","policies","textAlign","marginLeft","marginBottom","display","flexDirection","justifyContent","fontSize","fontFamily","fontWeight","height","size"],"mappings":"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","sourcesContent":["import React,{useState,useEffect,useCallback} from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport logo from './Nielsenlogo.jpg';\r\n\r\nimport 'bootstrap/dist/css/bootstrap.css';\r\nimport './App.css';\r\nimport CreateAPolicy from './CreateAPolicy';\r\nimport AssignPolicyToRole from './AssignPolicyToRole';\r\nimport AppBar from '@material-ui/core/AppBar';\r\nimport Tabs from '@material-ui/core/Tabs';\r\nimport { IconContext } from \"react-icons\";\r\nimport DisconnectPolicyFromRole from './DisconnectPolicyFromRole';\r\nimport Tab from '@material-ui/core/Tab';\r\nimport HomeIcon from '@material-ui/icons/Home';\r\nimport {AiFillDelete,AiOutlineFileAdd,AiOutlineRead} from \"react-icons/ai\";\r\nimport { BiLink,BiUnlink,BiEdit } from \"react-icons/bi\";\r\nimport HomeTab from './HomeTab';\r\nfunction TabPanel(props) {\r\n  const { children, value, index, ...other } = props;\r\n\r\n  return (\r\n    <div\r\n      role=\"tabpanel\"\r\n      hidden={value !== index}\r\n      id={`scrollable-force-tabpanel-${index}`}\r\n      aria-labelledby={`scrollable-force-tab-${index}`}\r\n      {...other}\r\n    >\r\n      {value === index && (\r\n        <>\r\n          {children}\r\n          </>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction a11yProps(index) {\r\n  return {\r\n    id: `scrollable-force-tab-${index}`,\r\n    'aria-controls': `scrollable-force-tabpanel-${index}`,\r\n  };\r\n}\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    flexGrow: 1,\r\n    width: '100%',\r\n    backgroundColor: theme.palette.background.paper,\r\n  },\r\n}));\r\n\r\nfunction HomeScreen(props) {\r\n  props = {token:\"s.50tT3xmIchMdiTDE3nzZ8RsY\"}\r\n  const [roleToPolicies,setRoleToPolicies] = useState({})\r\n  const [policytoPolicyInfo,setPTPI] = useState({})\r\n  const [value,setValue] = React.useState(3)\r\n  const classes = useStyles()\r\n  const handleChange = (event, newValue) => {\r\n    setValue(newValue);\r\n  };\r\n\r\n  const fetchData = useCallback(async() => {\r\n    var roleToPTemp = {}\r\n    var policiesToPolicyInfo = {}\r\n    await fetch(`/auth?VAULT_TOKEN=` + props.token + `&auth_method=approle`, {\r\n      method: \"GET\"\r\n    }).then(response => response.json())\r\n    .then(async data => {\r\n      var roles = data;\r\n      var i = 0;\r\n      for(i = 0; i < roles.length;++i){\r\n        const temp = i;\r\n        await fetch(`/auth?VAULT_TOKEN=` + props.token + `&auth_method=approle&role=`+roles[i], {\r\n          method: \"GET\"\r\n        }).then(response => response.json())\r\n        .then(data => {roleToPTemp[roles[temp]] = data;})\r\n      }\r\n      await setRoleToPolicies(roleToPTemp)\r\n    \r\n    })\r\n    await fetch(`/policies?VAULT_TOKEN=` + props.token, {\r\n      method: \"GET\"\r\n    }).then(response => response.json())\r\n    .then(async data => {\r\n      var policies = data;\r\n      for(var i = 0; i < policies.length;i++){\r\n        const temp = i;\r\n        await fetch(`/policies?VAULT_TOKEN=` + props.token + `&policyLabel=`+policies[i], {\r\n          method: \"GET\"\r\n        }).then(response => response.json())\r\n        .then(data => {policiesToPolicyInfo[policies[temp]] = data;})\r\n      }\r\n      await setPTPI(policiesToPolicyInfo)\r\n    })\r\n    \r\n  },[props.token])\r\n\r\n  useEffect(() => {\r\n    fetchData();\r\n   },[fetchData])\r\n\r\n  return (\r\n      <div className=\"App\" style={{textAlign:\"left\",marginLeft:15,marginBottom:50}}>\r\n        <div className={classes.root}>\r\n          <div style={{display:\"flex\",flexDirection:\"row\",justifyContent:\"space-between\"}}>\r\n            <div style={{fontSize:50,fontFamily:\"system-ui\",fontWeight:30}}>Policy Manager</div>\r\n            <img src={logo} style={{height:80}} />\r\n          </div>\r\n      <AppBar position=\"static\" color=\"default\">\r\n        <Tabs\r\n          value={value}\r\n          onChange={handleChange}\r\n          indicatorColor=\"primary\"\r\n          textColor=\"primary\"\r\n          centered\r\n          aria-label=\"scrollable centerd force tabs example\"\r\n        >\r\n          <Tab label=\"Create\" icon={<IconContext.Provider value={{ size: 25}}>\r\n<AiOutlineFileAdd style={{size:30}}/></IconContext.Provider>} {...a11yProps(0)} />\r\n          <Tab label=\"Delete\" icon={<IconContext.Provider value={{ size: 25}}><AiFillDelete /></IconContext.Provider>} {...a11yProps(1)} />\r\n          <Tab label=\"View\" icon={<IconContext.Provider value={{ size: 25}}><AiOutlineRead /></IconContext.Provider>} {...a11yProps(2)} />\r\n          <Tab label=\"Home\" icon={<IconContext.Provider value={{ size: 25}}><HomeIcon /></IconContext.Provider>} {...a11yProps(3)} />\r\n          <Tab label=\"Update\" icon={<IconContext.Provider value={{ size: 25}}><BiEdit/></IconContext.Provider>} {...a11yProps(4)} />\r\n          <Tab label=\"Disconnect\" icon={<IconContext.Provider value={{ size: 25}}><BiUnlink /></IconContext.Provider>} {...a11yProps(5)} />\r\n          <Tab label=\"Connect\" icon={<IconContext.Provider value={{ size: 25}}><BiLink /></IconContext.Provider>} {...a11yProps(6)} />\r\n        </Tabs>\r\n      </AppBar>\r\n      <TabPanel value={value} index={0}>\r\n        <CreateAPolicy/>\r\n      </TabPanel>\r\n      <TabPanel value={value} index={1}>\r\n        Item Two\r\n      </TabPanel>\r\n      <TabPanel value={value} index={2}>\r\n        Item Three\r\n      </TabPanel>\r\n      <TabPanel value={value} index={3}>\r\n      <HomeTab handleChange={handleChange}/>\r\n      </TabPanel>\r\n      <TabPanel value={value} index={4}>\r\n        Item Five\r\n      </TabPanel>\r\n      <TabPanel value={value} index={5}>\r\n      <DisconnectPolicyFromRole refreshData={fetchData} \r\n          token={props.token} \r\n          roleToPolicies={roleToPolicies} \r\n          policytoPolicyInfo={policytoPolicyInfo}/>\r\n      </TabPanel>\r\n      <TabPanel value={value} index={6}>\r\n      <AssignPolicyToRole refreshData={fetchData} \r\n          token={props.token} \r\n          roleToPolicies={roleToPolicies} \r\n          policytoPolicyInfo={policytoPolicyInfo}/>   \r\n      </TabPanel>\r\n    </div>\r\n        {/* <p style={{fontSize:50,color:\"black\",textAlign:\"left\",fontWeight:500}}>Policy Editor</p>\r\n        <CreateAPolicy token={props.token} refreshData={fetchData}/>\r\n        {Object.keys(policytoPolicyInfo).length > 0 && \r\n        <AssignPolicyToRole refreshData={fetchData} \r\n          token={props.token} \r\n          roleToPolicies={roleToPolicies} \r\n          policytoPolicyInfo={policytoPolicyInfo}/>} */}\r\n      </div>\r\n  );\r\n}\r\n\r\nexport default HomeScreen;\r\n "]},"metadata":{},"sourceType":"module"}