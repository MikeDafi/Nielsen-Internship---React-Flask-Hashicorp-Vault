{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\miasknda2101\\\\Documents\\\\React-Flask-Hashicorp-App\\\\my-app\\\\src\\\\HomeScreen.js\",\n    _s = $RefreshSig$();\n\nimport logo from './Nielsenlogo.jpg';\nimport React, { useState, useEffect } from 'react';\nimport 'bootstrap/dist/css/bootstrap.css';\nimport Form from 'react-bootstrap/Form';\nimport Button from 'react-bootstrap/Button';\nimport './App.css';\nimport ScrollableList from './ScrollableList';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst VAULT_TOKEN = \"s.FYIiw0jXiBDNzmTSBa4NKBnv\";\nconst VAULT_URL = \"http://localhost:8200\";\n\nfunction HomeScreen(props) {\n  _s();\n\n  props = {\n    token: VAULT_TOKEN\n  };\n  const [roleToPolicies, setrToP] = useState({});\n  const [policies, setPolicies] = useState([]);\n  useEffect(async () => {\n    // Update the document title using the browser API\n    // fetch(`policies?VAULT_TOKEN=`+ \"s.yptIPktcOu8va4NTfzbEDjSq\")\n    // .then(response => response.json())\n    // .then(data => {\n    //   console.log( data)\n    // })\n    await fetchData();\n  }, []);\n\n  async function fetchData() {\n    var roles = [];\n    var policies = [];\n    var roleToPTemp = {};\n    fetch(`/auth?VAULT_TOKEN=` + props.token + `&auth_method=approle`, {\n      method: \"GET\"\n    }).then(response => {\n      roles = response;\n    });\n    await fetch(`/policies?VAULT_TOKEN=` + props.token, {\n      method: \"GET\"\n    }).then(response => {\n      setPolicies(response);\n    });\n    console.log(\"roles\");\n    console.log(roles);\n\n    for (var i = 0; i < roles.length; ++i) {\n      await fetch(`/auth?VAULT_TOKEN=` + props.token + `&auth_method=approle&role=` + roles[i], {\n        method: \"GET\"\n      }).then(response => {\n        roleToPTemp[roles[i]] = response;\n      });\n    }\n\n    setrToP(roleToPTemp);\n    console.log(roleToPolicies);\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"App\",\n    children: /*#__PURE__*/_jsxDEV(\"p\", {\n      style: {\n        fontSize: 50,\n        color: \"black\",\n        textAlign: \"left\",\n        fontWeight: 500\n      },\n      children: \"Policy Editor\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 9\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 49,\n    columnNumber: 7\n  }, this);\n}\n\n_s(HomeScreen, \"1mMBrqQ9Nd02et+DDcwTA+ON0gE=\");\n\n_c = HomeScreen;\nexport default HomeScreen;\n\nvar _c;\n\n$RefreshReg$(_c, \"HomeScreen\");","map":{"version":3,"sources":["C:/Users/miasknda2101/Documents/React-Flask-Hashicorp-App/my-app/src/HomeScreen.js"],"names":["logo","React","useState","useEffect","Form","Button","ScrollableList","VAULT_TOKEN","VAULT_URL","HomeScreen","props","token","roleToPolicies","setrToP","policies","setPolicies","fetchData","roles","roleToPTemp","fetch","method","then","response","console","log","i","length","fontSize","color","textAlign","fontWeight"],"mappings":";;;AAAA,OAAOA,IAAP,MAAiB,mBAAjB;AACA,OAAOC,KAAP,IAAcC,QAAd,EAAuBC,SAAvB,QAAuC,OAAvC;AACA,OAAO,kCAAP;AACA,OAAOC,IAAP,MAAiB,sBAAjB;AACA,OAAOC,MAAP,MAAmB,wBAAnB;AACA,OAAO,WAAP;AACA,OAAOC,cAAP,MAA2B,kBAA3B;;AAGA,MAAMC,WAAW,GAAG,4BAApB;AACA,MAAMC,SAAS,GAAG,uBAAlB;;AACA,SAASC,UAAT,CAAoBC,KAApB,EAA2B;AAAA;;AACzBA,EAAAA,KAAK,GAAG;AAACC,IAAAA,KAAK,EAACJ;AAAP,GAAR;AACA,QAAM,CAACK,cAAD,EAAgBC,OAAhB,IAA2BX,QAAQ,CAAC,EAAD,CAAzC;AACA,QAAM,CAACY,QAAD,EAAUC,WAAV,IAAyBb,QAAQ,CAAC,EAAD,CAAvC;AAGAC,EAAAA,SAAS,CAAC,YAAY;AACpB;AACA;AACA;AACA;AACA;AACA;AACE,UAAMa,SAAS,EAAf;AACH,GARQ,EAQP,EARO,CAAT;;AAUA,iBAAeA,SAAf,GAA2B;AACzB,QAAIC,KAAK,GAAG,EAAZ;AACA,QAAIH,QAAQ,GAAG,EAAf;AACA,QAAII,WAAW,GAAG,EAAlB;AACAC,IAAAA,KAAK,CAAE,oBAAD,GAAuBT,KAAK,CAACC,KAA7B,GAAsC,sBAAvC,EAA8D;AACjES,MAAAA,MAAM,EAAE;AADyD,KAA9D,CAAL,CAEGC,IAFH,CAEQC,QAAQ,IAAI;AAAEL,MAAAA,KAAK,GAAGK,QAAR;AAAiB,KAFvC;AAGA,UAAMH,KAAK,CAAE,wBAAD,GAA2BT,KAAK,CAACC,KAAlC,EAAyC;AAClDS,MAAAA,MAAM,EAAE;AAD0C,KAAzC,CAAL,CAEHC,IAFG,CAEEC,QAAQ,IAAI;AAAEP,MAAAA,WAAW,CAACO,QAAD,CAAX;AAAsB,KAFtC,CAAN;AAGAC,IAAAA,OAAO,CAACC,GAAR,CAAY,OAAZ;AACAD,IAAAA,OAAO,CAACC,GAAR,CAAYP,KAAZ;;AACA,SAAI,IAAIQ,CAAC,GAAG,CAAZ,EAAeA,CAAC,GAAGR,KAAK,CAACS,MAAzB,EAAgC,EAAED,CAAlC,EAAoC;AAClC,YAAMN,KAAK,CAAE,oBAAD,GAAuBT,KAAK,CAACC,KAA7B,GAAsC,4BAAtC,GAAkEM,KAAK,CAACQ,CAAD,CAAxE,EAA6E;AACtFL,QAAAA,MAAM,EAAE;AAD8E,OAA7E,CAAL,CAEHC,IAFG,CAEEC,QAAQ,IAAI;AAACJ,QAAAA,WAAW,CAACD,KAAK,CAACQ,CAAD,CAAN,CAAX,GAAwBH,QAAxB;AAAkC,OAFjD,CAAN;AAGD;;AACDT,IAAAA,OAAO,CAACK,WAAD,CAAP;AACAK,IAAAA,OAAO,CAACC,GAAR,CAAYZ,cAAZ;AACD;;AACD,sBACI;AAAK,IAAA,SAAS,EAAC,KAAf;AAAA,2BACE;AAAG,MAAA,KAAK,EAAE;AAACe,QAAAA,QAAQ,EAAC,EAAV;AAAaC,QAAAA,KAAK,EAAC,OAAnB;AAA2BC,QAAAA,SAAS,EAAC,MAArC;AAA4CC,QAAAA,UAAU,EAAC;AAAvD,OAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,UADJ;AAMD;;GA1CQrB,U;;KAAAA,U;AA4CT,eAAeA,UAAf","sourcesContent":["import logo from './Nielsenlogo.jpg';\r\nimport React,{useState,useEffect} from 'react';\r\nimport 'bootstrap/dist/css/bootstrap.css';\r\nimport Form from 'react-bootstrap/Form';\r\nimport Button from 'react-bootstrap/Button';\r\nimport './App.css';\r\nimport ScrollableList from './ScrollableList';\r\n\r\n\r\nconst VAULT_TOKEN = \"s.FYIiw0jXiBDNzmTSBa4NKBnv\"\r\nconst VAULT_URL = \"http://localhost:8200\"\r\nfunction HomeScreen(props) {\r\n  props = {token:VAULT_TOKEN}\r\n  const [roleToPolicies,setrToP] = useState({})\r\n  const [policies,setPolicies] = useState([])\r\n\r\n\r\n  useEffect(async () => {\r\n    // Update the document title using the browser API\r\n    // fetch(`policies?VAULT_TOKEN=`+ \"s.yptIPktcOu8va4NTfzbEDjSq\")\r\n    // .then(response => response.json())\r\n    // .then(data => {\r\n    //   console.log( data)\r\n    // })\r\n      await fetchData()\r\n  },[]);\r\n\r\n  async function fetchData() {\r\n    var roles = []\r\n    var policies = []\r\n    var roleToPTemp = {}\r\n    fetch(`/auth?VAULT_TOKEN=` + props.token + `&auth_method=approle`, {\r\n      method: \"GET\"\r\n    }).then(response => { roles = response})\r\n    await fetch(`/policies?VAULT_TOKEN=` + props.token, {\r\n      method: \"GET\"\r\n    }).then(response => { setPolicies(response)})\r\n    console.log(\"roles\")\r\n    console.log(roles)\r\n    for(var i = 0; i < roles.length;++i){\r\n      await fetch(`/auth?VAULT_TOKEN=` + props.token + `&auth_method=approle&role=`+roles[i], {\r\n        method: \"GET\"\r\n      }).then(response => {roleToPTemp[roles[i]] = response;})\r\n    }\r\n    setrToP(roleToPTemp)\r\n    console.log(roleToPolicies)\r\n  }\r\n  return (\r\n      <div className=\"App\">\r\n        <p style={{fontSize:50,color:\"black\",textAlign:\"left\",fontWeight:500}}>Policy Editor</p>\r\n        {/* <ScrollableList/> */}\r\n      </div>\r\n  );\r\n}\r\n\r\nexport default HomeScreen;\r\n "]},"metadata":{},"sourceType":"module"}