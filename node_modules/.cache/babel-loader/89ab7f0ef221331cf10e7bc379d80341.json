{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\miasknda2101\\\\Documents\\\\React-Flask-Hashicorp-App\\\\my-app\\\\src\\\\ScrollableList.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemSecondaryAction from '@material-ui/core/ListItemSecondaryAction';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport ListItemAvatar from '@material-ui/core/ListItemAvatar';\nimport Checkbox from '@material-ui/core/Checkbox';\nimport Avatar from '@material-ui/core/Avatar';\nimport SearchBar from \"material-ui-search-bar\";\nimport CheckIcon from '@material-ui/icons/Check';\nimport CloseIcon from '@material-ui/icons/Close';\nimport './App.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst useStyles = makeStyles(theme => ({\n  root: {\n    width: 360,\n    backgroundColor: theme.palette.background.paper,\n    overflow: \"auto\",\n    height: 300,\n    marginTop: -20\n  },\n  noResults: {\n    width: 360,\n    backgroundColor: theme.palette.background.paper,\n    height: 294,\n    overflow: \"auto\",\n    marginTop: 10\n  },\n  blue: {\n    backgroundColor: \"blue\"\n  }\n}));\nexport default function CheckboxListSecondary(props) {\n  _s();\n\n  const classes = useStyles();\n  const [checked, setChecked] = React.useState([]);\n  const [clickedDeleteList, setClick] = React.useState([]);\n  const [searchValue, setSearchValue] = React.useState(\"\");\n  const [dictionary, setDict] = React.useState({});\n  const [clickedViewList, setView] = React.useState([]);\n  useEffect(() => {\n    setDict(props.list);\n    setChecked([]);\n  }, [props.list]);\n\n  const handleCheckToggle = value => () => {\n    const currentIndex = checked.indexOf(value);\n    const newChecked = [...checked];\n\n    if (currentIndex === -1) {\n      newChecked.push(value);\n    } else {\n      newChecked.splice(currentIndex, 1);\n    }\n\n    setChecked(newChecked);\n    props.setChecked(newChecked);\n  };\n\n  const handleViewToggle = value => () => {\n    const currentIndex = clickedViewList.indexOf(value);\n    const newChecked = [...clickedViewList];\n\n    if (currentIndex === -1) {\n      newChecked.push(value);\n    } else {\n      newChecked.splice(currentIndex, 1);\n    }\n\n    setView(newChecked);\n  };\n\n  function searchResults(searchValue) {\n    if (searchValue === \"\") {\n      setDict(props.list);\n      return;\n    }\n\n    const matches = {};\n    const keys = Object.keys(dictionary);\n\n    for (var i = 0; i < keys.length; i++) {\n      if (keys[i].includes(searchValue)) {\n        matches[keys[i]] = dictionary[keys[i]];\n      }\n    }\n\n    ;\n    const values = Object.values(dictionary);\n\n    for (i = 0; i < values.length; i++) {\n      if (props.searchDictionaryValues) {\n        for (var j = 0; j < values[i].length; j++) {\n          if (values[i][j].includes(searchValue)) {\n            matches[keys[i]] = values[i];\n            break;\n          }\n        }\n      } else if (values[i].rules.includes(searchValue)) {\n        matches[keys[i]] = values[i];\n      }\n    }\n\n    ;\n    setDict(matches);\n  }\n\n  ;\n\n  function parsePath(path) {\n    if (path == undefined) return \"\";\n    var start = path.indexOf(\"\\\"\");\n    var end = path.indexOf(\"\\\"\", start + 1);\n    var newPath = \"path: \" + path.substring(start, Math.min(end - 1 - start, 30) + start) + \"\\\"\" + (end - 1 - start > 30 ? \"...\" : \"\") + \" permissions:\" + (path.indexOf(\"create\") !== -1 ? \" Create\" : \"\") + (path.indexOf(\"update\") !== -1 ? \" Update\" : \"\") + (path.indexOf(\"delete\") !== -1 ? \" Delete\" : \"\") + (path.indexOf(\"read\") !== -1 ? \" Read\" : \"\");\n    return newPath;\n  }\n\n  ;\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"App\",\n    style: {\n      border: '1.5px solid gray',\n      width: 365\n    },\n    children: [/*#__PURE__*/_jsxDEV(SearchBar, {\n      value: searchValue,\n      placeholder: props.placeHolder,\n      onChange: newValue => {\n        setSearchValue(newValue);\n      },\n      onRequestSearch: () => searchResults(searchValue),\n      onCancelSearch: () => {\n        setDict(props.list);\n        setSearchValue(\"\");\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 3\n    }, this), Object.keys(dictionary).length > 0 && /*#__PURE__*/_jsxDEV(\"p\", {\n      style: {\n        visibility: \"hidden\"\n      },\n      children: Object.keys(dictionary)[0]\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 44\n    }, this), /*#__PURE__*/_jsxDEV(List, {\n      className: Object.keys(dictionary).length === 0 ? classes.noResults : classes.root,\n      subheader: /*#__PURE__*/_jsxDEV(\"li\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 117,\n        columnNumber: 106\n      }, this),\n      children: Object.keys(dictionary).length === 0 ? /*#__PURE__*/_jsxDEV(ListItem, {\n        style: {\n          justifyContent: \"center\",\n          textAlign: \"center\"\n        },\n        children: /*#__PURE__*/_jsxDEV(ListItemText, {\n          primary: \"No Results\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 120,\n          columnNumber: 7\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 119,\n        columnNumber: 7\n      }, this) : Object.keys(dictionary).map(key => {\n        const labelId = `checkbox-list-secondary-label-${key}`;\n        return /*#__PURE__*/_jsxDEV(ListItem, {\n          children: [/*#__PURE__*/_jsxDEV(ListItemAvatar, {\n            children: /*#__PURE__*/_jsxDEV(Avatar, {\n              className: classes.blue,\n              children: key.substring(0, 1)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 127,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 126,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(ListItemText, {\n            id: labelId,\n            primary: /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                display: \"flex\",\n                justifyContent: \"space-between\"\n              },\n              children: [key, !props.searchDictionaryValues && /*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  flexDirection: \"row\",\n                  display: \"flex\"\n                },\n                children: [clickedDeleteList.indexOf(key) === -1 ? /*#__PURE__*/_jsxDEV(\"u\", {\n                  onClick: () => {\n                    const newClicked = [...clickedDeleteList];\n                    newClicked.push(key);\n                    setClick(newClicked);\n                  },\n                  style: {\n                    marginRight: 10\n                  },\n                  children: \"Delete\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 135,\n                  columnNumber: 23\n                }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n                  style: {\n                    flexDirection: \"row\",\n                    display: \"flex\"\n                  },\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    onClick: () => {\n                      props.handleDelete(key, props.searchDictionaryValues ? 0 : 1);\n                      const newClicked = [...clickedDeleteList];\n                      newClicked.splice(newClicked.indexOf(key), 1);\n                      setClick(newClicked);\n                    },\n                    children: /*#__PURE__*/_jsxDEV(CheckIcon, {\n                      style: {\n                        color: \"green\"\n                      }\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 138,\n                      columnNumber: 29\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 137,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    onClick: () => {\n                      const newClicked = [...clickedDeleteList];\n                      newClicked.splice(newClicked.indexOf(key), 1);\n                      setClick(newClicked);\n                    },\n                    children: /*#__PURE__*/_jsxDEV(CloseIcon, {\n                      style: {\n                        color: \"red\"\n                      }\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 141,\n                      columnNumber: 29\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 140,\n                    columnNumber: 27\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 136,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  onClick: handleViewToggle(key),\n                  children: clickedViewList.indexOf(key) === -1 ? /*#__PURE__*/_jsxDEV(\"u\", {\n                    children: \"View\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 145,\n                    columnNumber: 64\n                  }, this) : /*#__PURE__*/_jsxDEV(\"u\", {\n                    children: \"Hide\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 145,\n                    columnNumber: 78\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 144,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 133,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 130,\n              columnNumber: 19\n            }, this),\n            secondary: props.searchDictionaryValues ? \"Policies: \" + dictionary[key].toString() : clickedViewList.indexOf(key) === -1 ? parsePath(dictionary[key].rules) : dictionary[key].rules\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 129,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(ListItemSecondaryAction, {\n            children: /*#__PURE__*/_jsxDEV(Checkbox, {\n              edge: \"end\",\n              onChange: handleCheckToggle(key),\n              checked: checked.indexOf(key) !== -1,\n              inputProps: {\n                'aria-labelledby': labelId\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 150,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 149,\n            columnNumber: 13\n          }, this)]\n        }, key, true, {\n          fileName: _jsxFileName,\n          lineNumber: 125,\n          columnNumber: 11\n        }, this);\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 5\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 107,\n    columnNumber: 5\n  }, this);\n}\n\n_s(CheckboxListSecondary, \"i9c39PfC2FKYppj32ZRRdsmVY/g=\", false, function () {\n  return [useStyles];\n});\n\n_c = CheckboxListSecondary;\n\nvar _c;\n\n$RefreshReg$(_c, \"CheckboxListSecondary\");","map":{"version":3,"sources":["C:/Users/miasknda2101/Documents/React-Flask-Hashicorp-App/my-app/src/ScrollableList.js"],"names":["React","useEffect","makeStyles","List","ListItem","ListItemSecondaryAction","ListItemText","ListItemAvatar","Checkbox","Avatar","SearchBar","CheckIcon","CloseIcon","useStyles","theme","root","width","backgroundColor","palette","background","paper","overflow","height","marginTop","noResults","blue","CheckboxListSecondary","props","classes","checked","setChecked","useState","clickedDeleteList","setClick","searchValue","setSearchValue","dictionary","setDict","clickedViewList","setView","list","handleCheckToggle","value","currentIndex","indexOf","newChecked","push","splice","handleViewToggle","searchResults","matches","keys","Object","i","length","includes","values","searchDictionaryValues","j","rules","parsePath","path","undefined","start","end","newPath","substring","Math","min","border","placeHolder","newValue","visibility","justifyContent","textAlign","map","key","labelId","display","flexDirection","newClicked","marginRight","handleDelete","color","toString"],"mappings":"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","sourcesContent":["import React, { useEffect } from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport List from '@material-ui/core/List';\r\nimport ListItem from '@material-ui/core/ListItem';\r\nimport ListItemSecondaryAction from '@material-ui/core/ListItemSecondaryAction';\r\nimport ListItemText from '@material-ui/core/ListItemText';\r\nimport ListItemAvatar from '@material-ui/core/ListItemAvatar';\r\nimport Checkbox from '@material-ui/core/Checkbox';\r\nimport Avatar from '@material-ui/core/Avatar';\r\nimport SearchBar from \"material-ui-search-bar\";\r\nimport CheckIcon from '@material-ui/icons/Check';\r\nimport CloseIcon from '@material-ui/icons/Close';\r\nimport './App.css';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    width: 360,\r\n    backgroundColor: theme.palette.background.paper,\r\n    overflow:\"auto\",\r\n    height:300,\r\n    marginTop:-20\r\n  },\r\n  noResults:{\r\n    width: 360,\r\n    backgroundColor: theme.palette.background.paper,\r\n    height:294,\r\n    overflow:\"auto\",\r\n    marginTop:10\r\n  },\r\n  blue:{\r\n    backgroundColor:\"blue\"\r\n  }\r\n}));\r\n\r\n\r\nexport default function CheckboxListSecondary(props) {\r\n  const classes = useStyles();\r\n  const [checked, setChecked] = React.useState([]);\r\n  const [clickedDeleteList,setClick] = React.useState([])\r\n  const [searchValue,setSearchValue] = React.useState(\"\");\r\n  const [dictionary,setDict] = React.useState({})\r\n  const [clickedViewList,setView] = React.useState([])\r\n  useEffect(() => {setDict(props.list);setChecked([])},[props.list] )\r\n  const handleCheckToggle = (value) => () => {\r\n    const currentIndex = checked.indexOf(value);\r\n    const newChecked = [...checked];\r\n\r\n    if (currentIndex === -1) {\r\n      newChecked.push(value);\r\n    } else {\r\n      newChecked.splice(currentIndex, 1);\r\n    }\r\n\r\n    setChecked(newChecked);\r\n    props.setChecked(newChecked)\r\n  };\r\n\r\n  const handleViewToggle = (value) => () => {\r\n    const currentIndex = clickedViewList.indexOf(value);\r\n    const newChecked = [...clickedViewList];\r\n\r\n    if (currentIndex === -1) {\r\n      newChecked.push(value);\r\n    } else {\r\n      newChecked.splice(currentIndex, 1);\r\n    }\r\n\r\n    setView(newChecked);\r\n  };\r\n\r\n  function searchResults(searchValue){\r\n    if(searchValue === \"\"){setDict(props.list); return;}\r\n    const matches = {}\r\n    const keys = Object.keys(dictionary)\r\n\r\n    for(var i = 0; i < keys.length;i++){\r\n      if(keys[i].includes(searchValue)){\r\n        matches[keys[i]] = dictionary[keys[i]]\r\n      }\r\n    };\r\n    const values = Object.values(dictionary)\r\n    for(i = 0; i < values.length;i++){\r\n      if(props.searchDictionaryValues){\r\n        for(var j = 0;j < values[i].length;j++){\r\n          if(values[i][j].includes(searchValue)){\r\n            matches[keys[i]] = values[i]\r\n            break\r\n          }\r\n        }\r\n      }else if(values[i].rules.includes(searchValue)){\r\n        matches[keys[i]] = values[i]\r\n      }\r\n    };  \r\n    setDict(matches)\r\n  };\r\n\r\n  function parsePath(path){\r\n    if(path == undefined) return \"\"\r\n    var start = path.indexOf(\"\\\"\")\r\n    var end = path.indexOf(\"\\\"\",start + 1)\r\n\r\n    var newPath = \"path: \" + path.substring(start,Math.min(end - 1 - start, 30) + start) +\"\\\"\" +((end - 1 - start) > 30 ? \"...\" : \"\") + \" permissions:\" + (path.indexOf(\"create\") !== -1 ? \" Create\": \"\") + (path.indexOf(\"update\") !== -1 ? \" Update\" : \"\")+ (path.indexOf(\"delete\") !== -1 ? \" Delete\" : \"\")+ (path.indexOf(\"read\") !== -1 ? \" Read\": \"\")\r\n    return newPath\r\n  };\r\n\r\n  return (\r\n    <div className=\"App\" style={{border:'1.5px solid gray',width:365}}>\r\n  <SearchBar\r\n    value={searchValue}\r\n    placeholder={props.placeHolder}\r\n    onChange={(newValue) => { setSearchValue(newValue)}}\r\n    onRequestSearch={() => searchResults(searchValue)}\r\n    onCancelSearch={() => {setDict(props.list);setSearchValue(\"\")}}\r\n  />\r\n    {Object.keys(dictionary).length > 0 && <p style={{visibility:\"hidden\"}}>{Object.keys(dictionary)[0]}</p>}\r\n    \r\n    <List className={Object.keys(dictionary).length === 0 ? classes.noResults : classes.root} subheader={<li />}>\r\n      {Object.keys(dictionary).length === 0 ?\r\n      <ListItem style={{justifyContent:\"center\",textAlign:\"center\"}}>\r\n      <ListItemText primary={\"No Results\"} />\r\n      </ListItem> :\r\n        Object.keys(dictionary).map((key) => {\r\n        const labelId = `checkbox-list-secondary-label-${key}`;\r\n        return (\r\n          <ListItem key={key}  >\r\n            <ListItemAvatar>\r\n              <Avatar className={classes.blue}>{key.substring(0,1)}</Avatar>\r\n            </ListItemAvatar>\r\n            <ListItemText id={labelId} primary={\r\n                  <div style={{display:\"flex\",justifyContent:\"space-between\"}}>\r\n                    {key}       \r\n                    {!props.searchDictionaryValues && \r\n                    <div style={{flexDirection:\"row\",display:\"flex\"}}>\r\n                      {clickedDeleteList.indexOf(key) === -1 ?\r\n                      <u onClick={() => {const newClicked = [...clickedDeleteList];newClicked.push(key); setClick(newClicked)}} style={{marginRight:10}}>Delete</u>\r\n                      : <div style={{flexDirection:\"row\",display:\"flex\"}}>\r\n                          <div onClick={() => {props.handleDelete(key,props.searchDictionaryValues ? 0 : 1);const newClicked = [...clickedDeleteList];newClicked.splice(newClicked.indexOf(key), 1);setClick(newClicked)}}>\r\n                            <CheckIcon style={{color:\"green\"}}/>\r\n                          </div>\r\n                          <div onClick={() => {const newClicked = [...clickedDeleteList];newClicked.splice(newClicked.indexOf(key), 1); setClick(newClicked)}}>\r\n                            <CloseIcon style={{color:\"red\"}}/>\r\n                          </div>\r\n                        </div>}\r\n                      <div onClick={handleViewToggle(key)}>\r\n                        {clickedViewList.indexOf(key) === -1 ? <u>View</u> : <u>Hide</u>}\r\n                      </div>\r\n                    </div>}\r\n                    </div>} secondary={(props.searchDictionaryValues ? \"Policies: \" + dictionary[key].toString() : (clickedViewList.indexOf(key) === -1 ? parsePath(dictionary[key].rules) : dictionary[key].rules))} />\r\n            <ListItemSecondaryAction>\r\n              <Checkbox\r\n                edge=\"end\"\r\n                onChange={handleCheckToggle(key)}\r\n                checked={checked.indexOf(key) !== -1}\r\n                inputProps={{ 'aria-labelledby': labelId }}\r\n              />\r\n            </ListItemSecondaryAction>\r\n          </ListItem>\r\n        );\r\n      })}\r\n    </List>\r\n    </div>\r\n  );\r\n}"]},"metadata":{},"sourceType":"module"}